<!DOCTYPE HTML>

<html>
    <head>
        <script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "/"
        },
        "articleSection" : "blog",
        "name" : "Classification using Persistence Images",
        "headline" : "Classification using Persistence Images",
        "description" : "TDA in the wild",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2018",
        "datePublished": "2018-04-20 00:00:00 &#43;0000 UTC",
        "dateModified" : "2018-04-20 00:00:00 &#43;0000 UTC",
        "url" : "/blog/spectra-classification/",
        "wordCount" : "631",
        "keywords" : [ "TDA","Math","persistence","persistence images","classification","Blog" ]
    }
    </script>
        
            
                <title>Classification using Persistence Images</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.39" />
        


        
            <meta name="author" content="Nathaniel Saul">
        
        
            <meta name="description" content="TDA in the wild">
        

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Classification using Persistence Images"/>
<meta name="twitter:description" content="TDA in the wild"/>
<meta name="twitter:site" content="@_ropthe_"/>

        <meta property="og:title" content="Classification using Persistence Images" />
<meta property="og:description" content="TDA in the wild" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/spectra-classification/" />



<meta property="article:published_time" content="2018-04-20T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2018-04-20T00:00:00&#43;00:00"/>











        <meta property="og:image" content="//images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="512">
        <meta property="og:image:height" content="512">
        
<meta itemprop="name" content="Classification using Persistence Images">
<meta itemprop="description" content="TDA in the wild">


<meta itemprop="datePublished" content="2018-04-20T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-04-20T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="631">



<meta itemprop="keywords" content="TDA,Math,persistence,persistence images,classification," />

        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/add-on.css">
            <link rel="stylesheet" href="/css/academicons.min.css">
        

        
            
                
            
        


  
    
    <link href='//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css' rel='stylesheet' type='text/css' />
  


      
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-101939399-1', 'auto');
ga('send', 'pageview');
</script>

    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="/">blog</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/">
                            <i class="fa fa-home">&nbsp;</i>Home
                    </a>
                </li>
            
                <li>
                    <a href="/docs/saul-resume.pdf">
                            <i class="fa fa-file-o">&nbsp;</i>CV
                    </a>
                </li>
            
                <li>
                    <a href="/research/">
                            <i class="fa fa-pie-chart">&nbsp;</i>Research
                    </a>
                </li>
            
                <li>
                    <a href="/software/">
                            <i class="fa fa-cogs">&nbsp;</i>Software
                    </a>
                </li>
            
                <li>
                    <a href="/blog/">
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Home
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/docs/saul-resume.pdf">
                            <h3>
                                <i class="fa fa-file-o">&nbsp;</i>CV
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/research/">
                            <h3>
                                <i class="fa fa-pie-chart">&nbsp;</i>Research
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/software/">
                            <h3>
                                <i class="fa fa-cogs">&nbsp;</i>Software
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/blog/">
                            <h3>
                                <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Updates</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/spectra-classification/">Classification using Persistence Images</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-04-20'>
                                    April 20, 2018</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/persistent-homology/">Introduction to persistent homology</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-12-06'>
                                    December 6, 2017</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/towers-basics/">Nerves and Towers I: Introduction</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-12-06'>
                                    December 6, 2017</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/towers-nerves/">Nerves and Towers II: Nerves</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-12-02'>
                                    December 2, 2017</time>
                            </header>
                            

                        </article>
                

                
                    <a href=
                        
                            /blog/
                        
                        class="button">View more posts</a>
                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            



<li>
  <a href="//twitter.com/share?url=%2fblog%2fspectra-classification%2f&amp;text=Classification%20using%20Persistence%20Images&amp;via=_ropthe_" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>




<li>
  <a href="//plus.google.com/share?url=%2fblog%2fspectra-classification%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
  </a>
</li>





<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=%2fblog%2fspectra-classification%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>




<li>
  <a href="//reddit.com/submit?url=%2fblog%2fspectra-classification%2f&amp;title=Classification%20using%20Persistence%20Images" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=%2fblog%2fspectra-classification%2f&amp;title=Classification%20using%20Persistence%20Images" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>




<li>
  <a href="//www.stumbleupon.com/submit?url=%2fblog%2fspectra-classification%2f&amp;title=Classification%20using%20Persistence%20Images" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
  </a>
</li>




<li>
  <a href="//www.pinterest.com/pin/create/button/?url=%2fblog%2fspectra-classification%2f&amp;description=Classification%20using%20Persistence%20Images" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>




<li>
  <a href="mailto:?subject=Check out this post by Nathaniel%20Saul&amp;body=%2fblog%2fspectra-classification%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>


        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h1><a href="/blog/spectra-classification/">Classification using Persistence Images</a></h1>
            
        
        
            <p>TDA in the wild</p>
        
    </div>
    <div class="meta">
        

        <time class="published"
            datetime='2018-04-20'>
            April 20, 2018</time>
        <span class="author">Nathaniel Saul</span>
        
            <p>3 minute read</p>
        

        
    </div>
</header>


  

  

  <div id="content">
    

<h1 id="galaxies">Galaxies</h1>

<p><strong>Disclaimer:</strong> This sort of feature engineering turned out to be a bit overkill for this project, but it does provide a nice, easy to understand, demonstration of how to use the methods.</p>

<h2 id="background">Background</h2>

<p>In an effort to make sense of the torrent of data coming from the James Webb Telescope, we need fast and reliable ways to classifying and sifting through the data.  At the Code for Good conference in 2017, I was involved with a project to help astrophysics categorize and curate these galaxy images.  The immediate goal was to develop methods for detecting particular features of a galaxy spectroscopy that was associated to certain types of galaxies. Specifically, we were looking for Wolf-Rayet galaxies since they display a particular <em>bump</em> that is clear to humans, but was particularly difficult for detection with automated methods.</p>

<p>During this conference, we used traditional machine learning methods without much success. I wondered if topological data analysis would help, but did not have the expertise or experience yet to try it out.  Fortunately, Spring 2018 I was awarded the NASA Space Grant Fellowship to explore the use of TDA for classifications of galaxy spectroscopy such as classification of the WR-bump.</p>

<blockquote>
<p>To facilitate astrophysics understanding of spectroscopy data, we develop feature engineering techniques for spectroscopy classification using methods from Topological Data Analysis (TDA). We have initially testing these techniques for the identification of Wolf-Rayet galaxies. These galaxies show up as a distinct bump at the blue end of optical spectra, which ranges in size, width, and shape. This range of morphologies is very difficult to automatically classify using conventional methods; however a trained human eye can distinguish it easily.</p>
</blockquote>

<h2 id="data">Data</h2>

<p>[image of data with WR-bump and without WR-bump]</p>

<p>You see that the WR-bump is visable, but there is so much noise, it is difficult to</p>

<h2 id="methods">Methods</h2>

<p>In this project, we use the <em>watershed</em> method of constructed a filtration, generate a persistence diagram, and then convert the diagram to a persistence image, and then use these images as features for classification algorithms.</p>

<h3 id="watershed-filtration">Watershed filtration</h3>

<p>In this method, we use a particular kind of filtration that captures information about the bumpiness of the spectra. These are sometimes called <em>lower-star filtrations</em> or <em>sublevel set filtrations</em>.</p>

<p>Imagine water rising up the spectra, we count the number of islands above the waterline and track their formation and submersion as the water rises. This leads to consider which islands are the most persistent, or least likely to be just noise.  Since homology tracks <em>holes</em>, what we are actually doing is counting the number of pieces submerged rather than number of pieces exposed by the water.</p>

<p>[Describe the steps &ndash; need a visualization]</p>

<blockquote>
<p>A persistence diagram is generated by tracking the connected components of the sublevel sets as we raise a threshold. Imagine water rising up the spectra, we count the number of islands above the waterline and track their formation and submersion as the water rises. This leads to consider which islands are the most persistent, or least likely to be just noise. This data can be represented in the form of persistence diagrams, shown in column 2 of Fig 1. These diagrams are then converted into persistence images, a stable vector representation amenable to machine learning methods, (shown in column 4 of Fig 1) [2]. Persistence images are generated by converting the diagram to a landscape representation (column 3 of Fig 1), applying a weighted gaussian convolution over all points to create a surface, and discretizing the surface to produce a vector image representation. We thus construct a dataset consisting of persistence images and use these for classification purposes. As seen in the images of Fig 1, WR-bump spectra produce images with two distinct pieces while the non-WR-bump spectra have only one bright patch of pixels.</p>
</blockquote>

<h3 id="persistence-images">Persistence Images</h3>

<h3 id="classification">Classification</h3>

  </div>

  <footer>
    <ul class="stats">
  <li class="categories">
    <ul>
        
    </ul>
  </li>
  <li class="tags">
    <ul>
        
            
            
                <i class="fa fa-tags"></i>
                
                
                <li><a class="article-category-link" href="/tags/tda">TDA</a></li>
                
                
                <li><a class="article-category-link" href="/tags/math">Math</a></li>
                
                
                <li><a class="article-category-link" href="/tags/persistence">persistence</a></li>
                
                
                <li><a class="article-category-link" href="/tags/persistence-images">persistence images</a></li>
                
                
                <li><a class="article-category-link" href="/tags/classification">classification</a></li>
                
            
        
    </ul>
  </li>
</ul>

  </footer>

</article>
<ul class="actions pagination">
    
        <li><a href="/blog/persistent-homology/"
                class="button big previous">Introduction to persistent homology</a></li>
    

    
</ul>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='/' class="logo"><img src="/img/main/logo.jpg" alt="Around About" /></a>
      
    
    
      <header>
        <h2>Nathaniel Saul</h2>
        <p>An introduction to circular thinking and categorical errors <i class='fa fa-space-shuttle'></i></p>
      </header>
    
    
      <ul class="icons">
        
          
    <li><a href="/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        
  <li><a href="//github.com/sauln" target="_blank" title="GitHub" class="fa fa-github"></a></li>



























































  <li><a href="//twitter.com/_ropthe_" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>













<li><a href="//scholar.google.com/citations?user=vMsDzgwAAAAJ" target="_blank" title="Google Scholar"><i class="ai ai-google-scholar"></i></a></li>







  <li><a href="mailto:nat@saulgill.com" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
  </section>

 
 
 
   
   
   
 


  
  <section class="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Updates</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        

        
        <section id="mini-bio">
            <time class="published" datetime='2018-06-15'>June 2018</time>:
          <p>   
            I presented my work on stitching mappers together at the Sympossium on Computational Geometry's Young Researchers Forum. The work was in collaboration with Bei Wang and Bala Krishnamoorthy and we plan on releasing complete work soon..
          </p>
            
          </section>

          
              
              
              
              
                
              
            
            
            
        

        
        <section id="mini-bio">
            <time class="published" datetime='2018-04-30'>April 2018</time>:
          <p>   
            My work on stitching mappers together along filter functions was accepted to the Symposium on Computational Geometry's Young Researchers Forum. (In collaboration with Bei Wang and Bala Krishnamoorthy.)
          </p>
            
          </section>

          
              
              
              
              
                
              
            
            
            
        

        
        <section id="mini-bio">
            <time class="published" datetime='2018-04-12'>April 2018</time>:
          <p>   
            I won second place at WSUV Research Showcase for my talk on exploring high-dimensional data with Mapper.
          </p>
            
          </section>

          
              
              
              
              
                
              
            
            
            
        

        
        <section id="mini-bio">
            <time class="published" datetime='2018-03-15'>March 2018</time>:
          <p>   
            I was awarded the NASA Space Grant Fellowship to apply TDA to classifification of galaxies.
          </p>
            
          </section>

          
              
              
              
              
                
              
            
            
            
        
      </div>

      
        <a href=
            "/updates/"
        class="button">View older updates</a>
      
    </div>
  </section>

  
  <section id="footer">
    
      <ul class="icons">
        
          
    <li><a href="/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        
  <li><a href="//github.com/sauln" target="_blank" title="GitHub" class="fa fa-github"></a></li>



























































  <li><a href="//twitter.com/_ropthe_" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>













<li><a href="//scholar.google.com/citations?user=vMsDzgwAAAAJ" target="_blank" title="Google Scholar"><i class="ai ai-google-scholar"></i></a></li>







  <li><a href="mailto:nat@saulgill.com" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
    <p class="copyright">
      
        &copy; 2018
        
          Nathaniel Saul | Around About
        
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
      
      
      
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js"></script>
        
        
        
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/css.min.js"></script>
        <script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>
      
    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="/js/util.js"></script>
      <script src="/js/main.js"></script>
      <script src="/js/backToTop.js"></script>
    

    
      
        
      
    

    
    <script>hljs.initHighlightingOnLoad();</script>
      <script src="//yihui.name/js/math-code.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>



      

<script type="text/javascript" src="https://cdn.rawgit.com/pcooksey/bibtex-js/abeec72eb0501d2f6ae41ed4f778b4a60e75984f/src/bibtex_js.js"></script>



<div class="bibtex_template">
    <div class="if author" style="font-weight: bold;">
        <span class="author"></span>,
        <span class="if year">
        <span class="year"></span>
        </span>

        
    </div>
    <div style="margin-left: 10px; margin-bottom:5px;">
        <span class="title"></span>
    </div>
</div>

  </body>
</html>

